@page "/login"
@layout LoginLayout

<div class="main__b__0">
    <div class="login">
        <Form Model="@model" OnFinish="HandleSubmit">
            <Tabs DefaultActiveKey="account" OnChange="OnChange">
                <TabPane Key="account">
                    <Tab>账户密码登录</Tab>
                    <ChildContent>
                        <FormItem>
                            <AntDesign.Input Placeholder="Enter the username" Size="large" @bind-Value="@context.Username">
                                <Prefix><Icon Type="user" /></Prefix>
                            </AntDesign.Input>
                        </FormItem>
                        <FormItem>
                            <AntDesign.Input Placeholder="Enter the password" Size="large" @bind-Value="@context.Password" Type="password">
                                <Prefix><Icon Type="lock" /></Prefix>
                            </AntDesign.Input>
                        </FormItem>
                    </ChildContent>
                </TabPane>
                <TabPane Key="code">
                    <Tab>授权码登录</Tab>
                    <ChildContent>
                        <FormItem>
                            <Row Gutter="8">
                                <AntDesign.Col Span="14">
                                    <AntDesign.Input Placeholder="Enter the code" Size="large" @bind-Value="@context.Code">
                                        <Prefix><Icon Type="lock" /></Prefix>
                                    </AntDesign.Input>
                                </AntDesign.Col>
                                <AntDesign.Col Span="10">
                                    <Button Size="large" Loading="loading" Block OnClick="GetAuthCode">获取授权码</Button>
                                </AntDesign.Col>
                            </Row>
                        </FormItem>
                    </ChildContent>
                </TabPane>
            </Tabs>
            <Button Type="@ButtonType.Primary" HtmlType="submit" Class="submit" Size="large" Block>登&nbsp;录</Button>
            <div class="other">
                其他登录方式
                <Icon OnClick="@(async () => await HandleClick("alipay"))" Type="alipay-circle" />
                <Icon OnClick="@(async () => await HandleClick("github"))" Type="github" />
                <Icon OnClick="@(async () => await HandleClick("gitee"))" Type="gitlab" />
                <Icon OnClick="@(async () => await HandleClick("dingtalk"))" Type="dingtalk-circle" Theme="fill" />
                <Icon OnClick="@(async () => await HandleClick("qq"))" Type="qq-circle" Theme="fill" />
            </div>
        </Form>
    </div>
</div>